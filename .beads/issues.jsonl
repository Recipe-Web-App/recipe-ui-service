{"id":"recipe-ui-service-qwp","title":"Recipe Scraper Schema Sync","description":"Realign the recipe scraper UI client (types, API client, hooks, tests, UI) with the v2 backend API specification. The backend was completely rewritten with breaking changes. See docs/recipe-scraper-v2-migration.md for the complete field-level schema diff reference.","status":"open","priority":1,"issue_type":"feature","owner":"jsamuelsen11@gmail.com","created_at":"2026-02-06T16:47:22.899480333-05:00","created_by":"jsamuelsen","updated_at":"2026-02-06T16:47:22.899480333-05:00"}
{"id":"recipe-ui-service-qwp.1","title":"Type Layer Updates","description":"Foundation type updates: base URL, error types, enums, nutrition types, health types, allergen types. All downstream work depends on this. See docs/recipe-scraper-v2-migration.md sections A, D, E, F, G.","status":"open","priority":1,"issue_type":"feature","owner":"jsamuelsen11@gmail.com","created_at":"2026-02-06T16:49:26.802233108-05:00","created_by":"jsamuelsen","updated_at":"2026-02-06T16:49:26.802233108-05:00","labels":["sub-epic","types"],"dependencies":[{"issue_id":"recipe-ui-service-qwp.1","depends_on_id":"recipe-ui-service-qwp","type":"parent-child","created_at":"2026-02-06T16:49:26.803733258-05:00","created_by":"jsamuelsen"}]}
{"id":"recipe-ui-service-qwp.1.1","title":"Update base URL in service config","description":"File: src/config/services.ts:42. Change RECIPE_SCRAPER URL from 'http://sous-chef-proxy.local/api/recipe-scraper' to 'http://sous-chef-proxy.local/api/v1/recipe-scraper'. See migration ref Section A.","status":"open","priority":1,"issue_type":"task","owner":"jsamuelsen11@gmail.com","created_at":"2026-02-06T16:50:06.064138053-05:00","created_by":"jsamuelsen","updated_at":"2026-02-06T16:50:06.064138053-05:00","dependencies":[{"issue_id":"recipe-ui-service-qwp.1.1","depends_on_id":"recipe-ui-service-qwp.1","type":"parent-child","created_at":"2026-02-06T16:50:06.065545037-05:00","created_by":"jsamuelsen"}]}
{"id":"recipe-ui-service-qwp.1.2","title":"Restructure ErrorResponse and add ErrorDetail type","description":"File: src/types/recipe-scraper/responses.ts. Replace ErrorResponse { detail, error_code, error_type } with { error (required), message, details?: ErrorDetail[], requestId? }. Add new ErrorDetail type { code, message, field? }. Update exports in index.ts. See migration ref Section D.","status":"open","priority":1,"issue_type":"task","owner":"jsamuelsen11@gmail.com","created_at":"2026-02-06T16:50:09.926852181-05:00","created_by":"jsamuelsen","updated_at":"2026-02-06T16:50:09.926852181-05:00","dependencies":[{"issue_id":"recipe-ui-service-qwp.1.2","depends_on_id":"recipe-ui-service-qwp.1","type":"parent-child","created_at":"2026-02-06T16:50:09.931964463-05:00","created_by":"jsamuelsen"}]}
{"id":"recipe-ui-service-qwp.1.3","title":"Update enums - add NutrientUnit, allergen enums, remove FoodGroupEnum","description":"File: src/types/recipe-scraper/enums.ts. Add: NutrientUnit (GRAM, MILLIGRAM, MICROGRAM, KILOCALORIE), AllergenPresenceTypeEnum (CONTAINS, MAY_CONTAIN, TRACES), AllergenDataSourceEnum (USDA, OPEN_FOOD_FACTS, LLM_INFERRED, MANUAL). Remove: FoodGroupEnum. Update exports in index.ts. See migration ref Sections E, G, E5.","status":"open","priority":1,"issue_type":"task","owner":"jsamuelsen11@gmail.com","created_at":"2026-02-06T16:50:13.801035503-05:00","created_by":"jsamuelsen","updated_at":"2026-02-06T16:50:13.801035503-05:00","dependencies":[{"issue_id":"recipe-ui-service-qwp.1.3","depends_on_id":"recipe-ui-service-qwp.1","type":"parent-child","created_at":"2026-02-06T16:50:13.802894124-05:00","created_by":"jsamuelsen"}]}
{"id":"recipe-ui-service-qwp.1.4","title":"Restructure nutrition types","description":"File: src/types/recipe-scraper/nutrition.ts. LARGEST type change. Add NutrientValue interface { amount?: number|null, measurement: NutrientUnit }. Restructure MacroNutrients: all fields become NutrientValue, absorb sugar/fiber/sodium from sub-objects. Restructure Fats: fatG-\u003etotal, saturatedFatG-\u003esaturated etc, remove omega-3/6/9. Restructure Vitamins: drop Mg suffix, use NutrientValue. Restructure Minerals: drop Mg suffix, use NutrientValue, move sodium to MacroNutrients. Remove Sugars, Fibers, IngredientClassification interfaces. Update IngredientNutritionalInfoResponse: remove classification, add usdaFoodDescription. Update exports. See migration ref Sections E1-E6.","status":"open","priority":1,"issue_type":"task","owner":"jsamuelsen11@gmail.com","created_at":"2026-02-06T16:50:18.653114854-05:00","created_by":"jsamuelsen","updated_at":"2026-02-06T16:50:18.653114854-05:00","dependencies":[{"issue_id":"recipe-ui-service-qwp.1.4","depends_on_id":"recipe-ui-service-qwp.1","type":"parent-child","created_at":"2026-02-06T16:50:18.654744202-05:00","created_by":"jsamuelsen"}]}
{"id":"recipe-ui-service-qwp.1.5","title":"Update health types to camelCase","description":"File: src/types/recipe-scraper/health.ts. HealthCheckItem: response_time_ms -\u003e responseTimeMs. HealthCheckResponse: uptime_seconds -\u003e uptimeSeconds, external_apis -\u003e externalApis, database_monitoring -\u003e databaseMonitoring, last_check -\u003e lastCheck, response_time_ms -\u003e responseTimeMs. See migration ref Sections F1-F3.","status":"open","priority":2,"issue_type":"task","owner":"jsamuelsen11@gmail.com","created_at":"2026-02-06T16:50:22.142101026-05:00","created_by":"jsamuelsen","updated_at":"2026-02-06T16:50:22.142101026-05:00","dependencies":[{"issue_id":"recipe-ui-service-qwp.1.5","depends_on_id":"recipe-ui-service-qwp.1","type":"parent-child","created_at":"2026-02-06T16:50:22.143539746-05:00","created_by":"jsamuelsen"}]}
{"id":"recipe-ui-service-qwp.1.6","title":"Add allergen types","description":"Add to src/types/recipe-scraper/responses.ts or new file. Create AllergenInfo { allergen, presenceType, confidenceScore?, sourceNotes? }, IngredientAllergenResponse { ingredientId?, ingredientName?, usdaFoodDescription?, allergens[], dataSource?, overallConfidence? }, RecipeAllergenResponse { contains?, mayContain?, allergens?, ingredientDetails?, missingIngredients? }. Update index.ts exports. See migration ref Section G.","status":"open","priority":2,"issue_type":"task","owner":"jsamuelsen11@gmail.com","created_at":"2026-02-06T16:50:25.760946527-05:00","created_by":"jsamuelsen","updated_at":"2026-02-06T16:50:25.760946527-05:00","dependencies":[{"issue_id":"recipe-ui-service-qwp.1.6","depends_on_id":"recipe-ui-service-qwp.1","type":"parent-child","created_at":"2026-02-06T16:50:25.76251973-05:00","created_by":"jsamuelsen"}]}
{"id":"recipe-ui-service-qwp.2","title":"API Client Layer Updates","description":"Update all API methods for new endpoint paths, query param renames, error handling changes, and create new allergens API module. See docs/recipe-scraper-v2-migration.md sections B, C, D, H.","status":"open","priority":1,"issue_type":"feature","owner":"jsamuelsen11@gmail.com","created_at":"2026-02-06T16:49:26.854460178-05:00","created_by":"jsamuelsen","updated_at":"2026-02-06T16:49:26.854460178-05:00","labels":["api","sub-epic"],"dependencies":[{"issue_id":"recipe-ui-service-qwp.2","depends_on_id":"recipe-ui-service-qwp","type":"parent-child","created_at":"2026-02-06T16:49:26.856023311-05:00","created_by":"jsamuelsen"}]}
{"id":"recipe-ui-service-qwp.2.1","title":"Update RecipeScraperApiError class and error handlers","description":"File: src/lib/api/recipe-scraper/client.ts. RecipeScraperApiError class: rename error_code to error, remove error_type, add details and requestId properties. responseErrorHandler L47: errorData?.detail -\u003e errorData?.message. handleRecipeScraperApiError L83-138: update all references to detail/error_code/error_type. See migration ref Section D.","status":"open","priority":1,"issue_type":"task","owner":"jsamuelsen11@gmail.com","created_at":"2026-02-06T16:50:22.833173061-05:00","created_by":"jsamuelsen","updated_at":"2026-02-06T16:50:22.833173061-05:00","dependencies":[{"issue_id":"recipe-ui-service-qwp.2.1","depends_on_id":"recipe-ui-service-qwp.2","type":"parent-child","created_at":"2026-02-06T16:50:22.835258155-05:00","created_by":"jsamuelsen"}]}
{"id":"recipe-ui-service-qwp.2.2","title":"Update recipes API endpoints","description":"File: src/lib/api/recipe-scraper/recipes.ts. createRecipe L19: /create-recipe -\u003e /recipes. getPopularRecipes L43: /popular-recipes -\u003e /recipes/popular. Rename param L38: count_only -\u003e countOnly. See migration ref Sections B, C.","status":"open","priority":1,"issue_type":"task","owner":"jsamuelsen11@gmail.com","created_at":"2026-02-06T16:50:26.166902758-05:00","created_by":"jsamuelsen","updated_at":"2026-02-06T16:50:26.166902758-05:00","dependencies":[{"issue_id":"recipe-ui-service-qwp.2.2","depends_on_id":"recipe-ui-service-qwp.2","type":"parent-child","created_at":"2026-02-06T16:50:26.168288205-05:00","created_by":"jsamuelsen"}]}
{"id":"recipe-ui-service-qwp.2.3","title":"Update nutrition API params","description":"File: src/lib/api/recipe-scraper/nutrition.ts. Rename params L24: include_total -\u003e includeTotal. L25: include_ingredients -\u003e includeIngredients. See migration ref Section C.","status":"open","priority":2,"issue_type":"task","owner":"jsamuelsen11@gmail.com","created_at":"2026-02-06T16:50:29.033679767-05:00","created_by":"jsamuelsen","updated_at":"2026-02-06T16:50:29.033679767-05:00","dependencies":[{"issue_id":"recipe-ui-service-qwp.2.3","depends_on_id":"recipe-ui-service-qwp.2","type":"parent-child","created_at":"2026-02-06T16:50:29.035720075-05:00","created_by":"jsamuelsen"}]}
{"id":"recipe-ui-service-qwp.2.4","title":"Update ingredients API endpoint and params","description":"File: src/lib/api/recipe-scraper/ingredients.ts. L36: /recommended-substitutions -\u003e /substitutions. L28: count_only -\u003e countOnly. See migration ref Sections B, C.","status":"open","priority":2,"issue_type":"task","owner":"jsamuelsen11@gmail.com","created_at":"2026-02-06T16:50:32.561626727-05:00","created_by":"jsamuelsen","updated_at":"2026-02-06T16:50:32.561626727-05:00","dependencies":[{"issue_id":"recipe-ui-service-qwp.2.4","depends_on_id":"recipe-ui-service-qwp.2","type":"parent-child","created_at":"2026-02-06T16:50:32.563310372-05:00","created_by":"jsamuelsen"}]}
{"id":"recipe-ui-service-qwp.2.5","title":"Update pairing API endpoint and params","description":"File: src/lib/api/recipe-scraper/pairing.ts. L29: /pairing-suggestions -\u003e /pairings. L23: count_only -\u003e countOnly. See migration ref Sections B, C.","status":"open","priority":2,"issue_type":"task","owner":"jsamuelsen11@gmail.com","created_at":"2026-02-06T16:50:35.748487799-05:00","created_by":"jsamuelsen","updated_at":"2026-02-06T16:50:35.748487799-05:00","dependencies":[{"issue_id":"recipe-ui-service-qwp.2.5","depends_on_id":"recipe-ui-service-qwp.2","type":"parent-child","created_at":"2026-02-06T16:50:35.749931048-05:00","created_by":"jsamuelsen"}]}
{"id":"recipe-ui-service-qwp.3","title":"Hooks \u0026 Constants Updates","description":"Update query keys constants, rename hook params from snake_case to camelCase, remove liveness/legacy health hooks, create allergen hooks. See docs/recipe-scraper-v2-migration.md sections B, C.","status":"open","priority":1,"issue_type":"feature","owner":"jsamuelsen11@gmail.com","created_at":"2026-02-06T16:49:26.916010871-05:00","created_by":"jsamuelsen","updated_at":"2026-02-06T16:49:26.916010871-05:00","labels":["hooks","sub-epic"],"dependencies":[{"issue_id":"recipe-ui-service-qwp.3","depends_on_id":"recipe-ui-service-qwp","type":"parent-child","created_at":"2026-02-06T16:49:26.919189742-05:00","created_by":"jsamuelsen"}]}
{"id":"recipe-ui-service-qwp.3.1","title":"Update query keys constants","description":"File: src/constants/index.ts. Remove LIVENESS and LEGACY_HEALTH from QUERY_KEYS.RECIPE_SCRAPER. Add INGREDIENT_ALLERGENS: ['recipeScraper', 'ingredientAllergens'] and RECIPE_ALLERGENS: ['recipeScraper', 'recipeAllergens']. See migration ref Section B.","status":"open","priority":2,"issue_type":"task","owner":"jsamuelsen11@gmail.com","created_at":"2026-02-06T16:50:31.907609238-05:00","created_by":"jsamuelsen","updated_at":"2026-02-06T16:50:31.907609238-05:00","dependencies":[{"issue_id":"recipe-ui-service-qwp.3.1","depends_on_id":"recipe-ui-service-qwp.3","type":"parent-child","created_at":"2026-02-06T16:50:31.909074539-05:00","created_by":"jsamuelsen"}]}
{"id":"recipe-ui-service-qwp.3.2","title":"Update recipe hooks param names","description":"File: src/hooks/recipe-scraper/use-recipe-scraper-recipes.ts. Rename count_only -\u003e countOnly in usePopularRecipes hook params. See migration ref Section C.","status":"open","priority":2,"issue_type":"task","owner":"jsamuelsen11@gmail.com","created_at":"2026-02-06T16:50:35.100586078-05:00","created_by":"jsamuelsen","updated_at":"2026-02-06T16:50:35.100586078-05:00","dependencies":[{"issue_id":"recipe-ui-service-qwp.3.2","depends_on_id":"recipe-ui-service-qwp.3","type":"parent-child","created_at":"2026-02-06T16:50:35.101946972-05:00","created_by":"jsamuelsen"}]}
{"id":"recipe-ui-service-qwp.3.3","title":"Update nutrition hooks param names","description":"File: src/hooks/recipe-scraper/use-recipe-scraper-nutrition.ts. Rename include_total -\u003e includeTotal and include_ingredients -\u003e includeIngredients. See migration ref Section C.","status":"open","priority":2,"issue_type":"task","owner":"jsamuelsen11@gmail.com","created_at":"2026-02-06T16:50:39.028225776-05:00","created_by":"jsamuelsen","updated_at":"2026-02-06T16:50:39.028225776-05:00","dependencies":[{"issue_id":"recipe-ui-service-qwp.3.3","depends_on_id":"recipe-ui-service-qwp.3","type":"parent-child","created_at":"2026-02-06T16:50:39.030248078-05:00","created_by":"jsamuelsen"}]}
{"id":"recipe-ui-service-qwp.4","title":"API Test Updates","description":"Update all API layer unit tests: error mocks, endpoint paths, nutrition mock data restructure, new allergen tests. See docs/recipe-scraper-v2-migration.md for all field mappings.","status":"open","priority":2,"issue_type":"task","owner":"jsamuelsen11@gmail.com","created_at":"2026-02-06T16:49:33.299005564-05:00","created_by":"jsamuelsen","updated_at":"2026-02-06T16:49:33.299005564-05:00","labels":["sub-epic","tests"],"dependencies":[{"issue_id":"recipe-ui-service-qwp.4","depends_on_id":"recipe-ui-service-qwp","type":"parent-child","created_at":"2026-02-06T16:49:33.300361151-05:00","created_by":"jsamuelsen"}]}
{"id":"recipe-ui-service-qwp.5","title":"Hook Test Updates","description":"Update all hook unit tests: param name changes, nutrition mock data restructure, remove liveness/legacy tests, new allergen hook tests. See docs/recipe-scraper-v2-migration.md for all field mappings.","status":"open","priority":2,"issue_type":"task","owner":"jsamuelsen11@gmail.com","created_at":"2026-02-06T16:49:33.347497857-05:00","created_by":"jsamuelsen","updated_at":"2026-02-06T16:49:33.347497857-05:00","labels":["sub-epic","tests"],"dependencies":[{"issue_id":"recipe-ui-service-qwp.5","depends_on_id":"recipe-ui-service-qwp","type":"parent-child","created_at":"2026-02-06T16:49:33.348908195-05:00","created_by":"jsamuelsen"}]}
{"id":"recipe-ui-service-qwp.6","title":"UI Component Updates","description":"Audit and update UI components that consume recipe scraper data: Popular Recipes page, error boundary demo. Verify no broken type references.","status":"open","priority":2,"issue_type":"task","owner":"jsamuelsen11@gmail.com","created_at":"2026-02-06T16:49:33.396724209-05:00","created_by":"jsamuelsen","updated_at":"2026-02-06T16:49:33.396724209-05:00","labels":["sub-epic","ui"],"dependencies":[{"issue_id":"recipe-ui-service-qwp.6","depends_on_id":"recipe-ui-service-qwp","type":"parent-child","created_at":"2026-02-06T16:49:33.398475913-05:00","created_by":"jsamuelsen"}]}
{"id":"recipe-ui-service-qwp.7","title":"Validation \u0026 Cleanup","description":"Final validation: run type-check, test suite, quality checks. Delete docs/recipe-scraper-v2-migration.md when all work is complete.","status":"open","priority":2,"issue_type":"task","owner":"jsamuelsen11@gmail.com","created_at":"2026-02-06T16:49:33.445811063-05:00","created_by":"jsamuelsen","updated_at":"2026-02-06T16:49:33.445811063-05:00","labels":["sub-epic","validation"],"dependencies":[{"issue_id":"recipe-ui-service-qwp.7","depends_on_id":"recipe-ui-service-qwp","type":"parent-child","created_at":"2026-02-06T16:49:33.447147414-05:00","created_by":"jsamuelsen"}]}
