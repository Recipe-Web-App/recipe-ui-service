import {
  Meta,
  Story,
  Canvas,
  ArgsTable,
  Description,
} from '@storybook/addon-docs';
import { DefaultLayout, FocusedLayout, MinimalLayout } from './layout-variants';

<Meta
  title="Layout Components/Layout Variants"
  component={DefaultLayout}
  decorators={[
    (Story) => (
      <div style={{ height: '100vh', width: '100vw' }}>
        <Story />
      </div>
    ),
  ]}
  parameters={{
    docs: {
      description: {
        component: `
Pre-configured layout variants provide convenient components for common use cases
without needing to specify the variant prop each time. These components wrap the
main Layout component with specific variant configurations.

## Available Variants

### DefaultLayout

The full application layout with all components visible:

- TopNav with complete navigation
- Sidebar with contextual navigation
- ContentPane for main content
- Footer with links and build information

### FocusedLayout

A streamlined layout optimized for content consumption:

- TopNav with essential navigation
- No sidebar for maximum content space
- ContentPane with focused styling
- Minimal footer with reduced information

### MinimalLayout

A bare-bones layout for standalone pages:

- TopNav with minimal navigation
- No sidebar or footer
- ContentPane only
- Perfect for authentication, error pages, or modals

## Usage

These components are designed to be drop-in replacements for the main Layout
component when you consistently need a specific variant throughout a section
of your application.

## Integration

All layout variants automatically:

- Integrate with the layout provider system
- Provide error boundary protection
- Support responsive behavior
- Work with the navigation and theme systems
  `
  }
  }
  }}
  argTypes={{
      children: {
        control: false,
        description: 'Content to render within the layout'
      },
      className: {
        control: { type: 'text' },
        description: 'Additional CSS classes for the root container'
      },
      contentProps: {
        control: { type: 'object' },
        description: 'Props to pass to the ContentPane component'
      }
    }}
  />

# Layout Variants

<Description of={DefaultLayout} />

## Default Layout

The default layout provides the complete application experience with all navigation and footer components.

<Canvas>
  <Story name="DefaultLayout">
    {() => (
      <DefaultLayout>
        <div className="p-8">
          <h1 className="mb-6 text-3xl font-bold">Recipe Collection</h1>
          <p className="text-muted-foreground mb-8">
            This is the default layout showcasing the full application
            experience with sidebar navigation, complete top navigation, and
            footer.
          </p>
          <div className="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3">
            {Array.from({ length: 6 }).map((_, i) => (
              <div
                key={i}
                className="bg-card rounded-lg border p-6 transition-shadow hover:shadow-md"
              >
                <div className="bg-muted mb-4 h-32 w-full rounded-md"></div>
                <h3 className="mb-2 font-semibold">Recipe Card {i + 1}</h3>
                <p className="text-muted-foreground mb-3 text-sm">
                  A delicious recipe that showcases the default layout structure
                  with sidebar navigation and complete footer.
                </p>
                <div className="flex gap-2">
                  <span className="bg-primary/10 text-primary rounded px-2 py-1 text-xs">
                    Main Course
                  </span>
                  <span className="bg-secondary/10 text-secondary-foreground rounded px-2 py-1 text-xs">
                    30 min
                  </span>
                </div>
              </div>
            ))}
          </div>
        </div>
      </DefaultLayout>
    )}
  </Story>
</Canvas>

## Focused Layout

The focused layout removes the sidebar to provide maximum space for content consumption,
perfect for reading recipes, articles, or detailed content.

<Canvas>
  <Story name="FocusedLayout">
    {() => (
      <FocusedLayout>
        <div className="max-w-4xl mx-auto p-8">
          <header className="mb-8">
            <h1 className="text-4xl font-bold mb-4">Perfect Pasta Carbonara</h1>
            <div className="flex items-center gap-4 text-sm text-muted-foreground">
              <span>üïí 25 minutes</span>
              <span>üë• 4 servings</span>
              <span>‚≠ê 4.8/5 (127 reviews)</span>
            </div>
          </header>

          <div className="prose prose-gray max-w-none">
            <div className="mb-8">
              <img
                src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDgwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI4MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0zOTUgMTk1SDQwNVYyMDVIMzk1VjE5NVoiIGZpbGw9IiM5Q0EzQUYiLz4KPC9zdmc+"
                alt="Pasta Carbonara"
                className="w-full h-64 object-cover rounded-lg mb-6"
              />
            </div>

            <p className="text-lg leading-relaxed mb-6">
              This focused layout removes the sidebar to give your content the attention it deserves.
              Perfect for recipe details, blog posts, documentation, or any content that benefits
              from a distraction-free reading experience.
            </p>

            <h2 className="text-2xl font-bold mt-8 mb-4">Ingredients</h2>
            <ul className="list-disc list-inside space-y-2 mb-8">
              <li>400g spaghetti or linguine</li>
              <li>200g pancetta or guanciale, diced</li>
              <li>4 large egg yolks</li>
              <li>100g Parmesan cheese, freshly grated</li>
              <li>Black pepper, freshly ground</li>
              <li>Sea salt for pasta water</li>
            </ul>

            <h2 className="text-2xl font-bold mb-4">Instructions</h2>
            <ol className="list-decimal list-inside space-y-3">
              <li>Bring a large pot of salted water to boil for the pasta.</li>
              <li>While water heats, cook pancetta in a large skillet until crispy.</li>
              <li>In a bowl, whisk together egg yolks, grated Parmesan, and black pepper.</li>
              <li>Cook pasta according to package directions until al dente.</li>
              <li>Reserve 1 cup pasta cooking water before draining.</li>
              <li>Add hot pasta to the pancetta, then remove from heat.</li>
              <li>Quickly stir in the egg mixture, adding pasta water as needed.</li>
              <li>Serve immediately with extra Parmesan and black pepper.</li>
            </ol>
          </div>
        </div>
      </FocusedLayout>
    )}

  </Story>
</Canvas>

## Minimal Layout

The minimal layout provides only the essential navigation, perfect for authentication pages,
error pages, or any standalone interface that doesn't need sidebar or footer.

<Canvas>
  <Story name="MinimalLayout">
    {() => (
      <MinimalLayout>
        <div className="flex items-center justify-center min-h-[80vh]">
          <div className="w-full max-w-md space-y-6">
            <div className="text-center">
              <h1 className="text-3xl font-bold">Welcome Back</h1>
              <p className="text-muted-foreground mt-2">
                Sign in to your account to continue
              </p>
            </div>

            <div className="p-6 border rounded-lg bg-card space-y-4">
              <div>
                <label className="block text-sm font-medium mb-2">Email</label>
                <input
                  type="email"
                  className="w-full px-3 py-2 border rounded-md bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                  placeholder="Enter your email"
                />
              </div>

              <div>
                <label className="block text-sm font-medium mb-2">Password</label>
                <input
                  type="password"
                  className="w-full px-3 py-2 border rounded-md bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                  placeholder="Enter your password"
                />
              </div>

              <div className="flex items-center justify-between text-sm">
                <label className="flex items-center">
                  <input type="checkbox" className="mr-2" />
                  Remember me
                </label>
                <a href="#" className="text-primary hover:underline">
                  Forgot password?
                </a>
              </div>

              <button className="w-full bg-primary text-primary-foreground py-2 px-4 rounded-md hover:bg-primary/90 transition-colors">
                Sign In
              </button>
            </div>

            <div className="text-center text-sm text-muted-foreground">
              <p>
                Don't have an account?{' '}
                <a href="#" className="text-primary hover:underline">
                  Sign up here
                </a>
              </p>
            </div>
          </div>
        </div>
      </MinimalLayout>
    )}

  </Story>
</Canvas>

## Responsive Comparison

See how each layout variant adapts to different screen sizes and use cases.

<Canvas>
  <Story name="Responsive Comparison">
    {() => (
      <div className="space-y-8">
        <div className="text-center">
          <h2 className="text-2xl font-bold mb-4">Layout Variant Comparison</h2>
          <p className="text-muted-foreground">
            Each variant is optimized for different use cases and content types.
          </p>
        </div>

        <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
          <div className="border rounded-lg overflow-hidden">
            <div className="p-4 bg-muted">
              <h3 className="font-semibold">DefaultLayout</h3>
              <p className="text-sm text-muted-foreground">Full application experience</p>
            </div>
            <div className="h-48 bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center">
              <div className="text-center">
                <div className="w-8 h-8 bg-blue-500 rounded mx-auto mb-2"></div>
                <p className="text-sm font-medium">Dashboard & Listings</p>
              </div>
            </div>
          </div>

          <div className="border rounded-lg overflow-hidden">
            <div className="p-4 bg-muted">
              <h3 className="font-semibold">FocusedLayout</h3>
              <p className="text-sm text-muted-foreground">Content consumption</p>
            </div>
            <div className="h-48 bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center">
              <div className="text-center">
                <div className="w-8 h-8 bg-green-500 rounded mx-auto mb-2"></div>
                <p className="text-sm font-medium">Recipes & Articles</p>
              </div>
            </div>
          </div>

          <div className="border rounded-lg overflow-hidden">
            <div className="p-4 bg-muted">
              <h3 className="font-semibold">MinimalLayout</h3>
              <p className="text-sm text-muted-foreground">Standalone pages</p>
            </div>
            <div className="h-48 bg-gradient-to-br from-purple-50 to-purple-100 flex items-center justify-center">
              <div className="text-center">
                <div className="w-8 h-8 bg-purple-500 rounded mx-auto mb-2"></div>
                <p className="text-sm font-medium">Auth & Errors</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    )}

  </Story>
</Canvas>

## Custom Content Props

All layout variants support custom content props for specialized requirements.

<Canvas>
  <Story name="Custom Content Props">
    {() => (
      <DefaultLayout
        contentProps={{
          viewMode: "list",
          contentWidth: "full",
          padding: false
        }}
      >
        <div className="p-8 bg-muted/20">
          <h1 className="text-3xl font-bold mb-6">Custom Content Configuration</h1>
          <p className="text-muted-foreground mb-8">
            This example shows how layout variants can be customized with content props
            for specialized layouts. Here we're using list view mode, full width, and custom padding.
          </p>

          <div className="space-y-4">
            {Array.from({ length: 4 }).map((_, i) => (
              <div key={i} className="flex items-center gap-6 p-6 bg-background border rounded-lg">
                <div className="w-16 h-16 bg-primary rounded-lg flex items-center justify-center">
                  <span className="text-primary-foreground font-bold text-lg">{i + 1}</span>
                </div>
                <div className="flex-1">
                  <h3 className="font-semibold text-lg">List Item {i + 1}</h3>
                  <p className="text-muted-foreground">
                    This demonstrates how layout variants can be customized with content props
                    to achieve different layout behaviors while maintaining the same variant structure.
                  </p>
                </div>
                <div className="text-sm text-muted-foreground">
                  Updated 2 hours ago
                </div>
              </div>
            ))}
          </div>
        </div>
      </DefaultLayout>
    )}

  </Story>
</Canvas>

## Interactive Example

<Canvas>
  <Story name="Interactive">
    {(args) => {
      const [currentVariant, setCurrentVariant] = React.useState('default');

      const LayoutComponent = {
        default: DefaultLayout,
        focused: FocusedLayout,
        minimal: MinimalLayout
      }[currentVariant];

      return (
        <div>
          <div className="p-4 border-b bg-muted/50">
            <div className="flex items-center gap-4">
              <span className="font-medium">Layout Variant:</span>
              <div className="flex gap-2">
                <button
                  onClick={() => setCurrentVariant('default')}
                  className={`px-3 py-1 text-sm rounded transition-colors ${
                    currentVariant === 'default'
                      ? 'bg-primary text-primary-foreground'
                      : 'bg-secondary text-secondary-foreground hover:bg-secondary/80'
                  }`}
                >
                  Default
                </button>
                <button
                  onClick={() => setCurrentVariant('focused')}
                  className={`px-3 py-1 text-sm rounded transition-colors ${
                    currentVariant === 'focused'
                      ? 'bg-primary text-primary-foreground'
                      : 'bg-secondary text-secondary-foreground hover:bg-secondary/80'
                  }`}
                >
                  Focused
                </button>
                <button
                  onClick={() => setCurrentVariant('minimal')}
                  className={`px-3 py-1 text-sm rounded transition-colors ${
                    currentVariant === 'minimal'
                      ? 'bg-primary text-primary-foreground'
                      : 'bg-secondary text-secondary-foreground hover:bg-secondary/80'
                  }`}
                >
                  Minimal
                </button>
              </div>
            </div>
          </div>

          <LayoutComponent {...args}>
            <div className="p-8">
              <h1 className="text-3xl font-bold mb-4">Interactive Layout Variants</h1>
              <p className="text-muted-foreground mb-6">
                Use the buttons above to switch between different layout variants and see
                how they affect the overall page structure and navigation.
              </p>

              <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div className="p-6 border rounded-lg bg-card">
                  <h3 className="font-semibold mb-3">Current Variant</h3>
                  <p className="text-2xl font-bold text-primary capitalize">{currentVariant}</p>
                  <p className="text-sm text-muted-foreground mt-2">
                    {currentVariant === 'default' && 'Full layout with sidebar and footer'}
                    {currentVariant === 'focused' && 'Content-focused without sidebar'}
                    {currentVariant === 'minimal' && 'Minimal layout for standalone pages'}
                  </p>
                </div>

                <div className="p-6 border rounded-lg bg-card">
                  <h3 className="font-semibold mb-3">Features</h3>
                  <ul className="space-y-1 text-sm">
                    <li className="flex items-center gap-2">
                      <span className="w-2 h-2 bg-green-500 rounded-full"></span>
                      TopNav
                    </li>
                    <li className="flex items-center gap-2">
                      <span className={`w-2 h-2 rounded-full ${
                        currentVariant === 'default' ? 'bg-green-500' : 'bg-gray-300'
                      }`}></span>
                      Sidebar
                    </li>
                    <li className="flex items-center gap-2">
                      <span className="w-2 h-2 bg-green-500 rounded-full"></span>
                      ContentPane
                    </li>
                    <li className="flex items-center gap-2">
                      <span className={`w-2 h-2 rounded-full ${
                        currentVariant !== 'minimal' ? 'bg-green-500' : 'bg-gray-300'
                      }`}></span>
                      Footer
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </LayoutComponent>
        </div>
      );
    }}

  </Story>
</Canvas>

## Component API

<ArgsTable of={DefaultLayout} />

## Usage Guidelines

### When to Use Each Variant

#### DefaultLayout

- **Main application pages** that need full navigation context
- **Dashboard views** with multiple content sections
- **List pages** that benefit from sidebar navigation
- **Settings pages** that are part of the main application flow

#### FocusedLayout

- **Content consumption pages** like recipes, articles, or documentation
- **Detail views** that need maximum content space
- **Reading interfaces** where distraction should be minimized
- **Form wizards** that require focused attention

#### MinimalLayout

- **Authentication pages** (login, signup, forgot password)
- **Error pages** (404, 500, maintenance)
- **Onboarding flows** that are outside the main application
- **Modal-like experiences** that need minimal chrome

### Performance Considerations

- All layout variants are memoized to prevent unnecessary re-renders
- Variants automatically inherit responsive behavior from the base Layout component
- Error boundaries are included in all variants for graceful failure handling
- Theme integration works seamlessly across all variants

### Accessibility Features

- Semantic HTML structure with proper landmarks in all variants
- Keyboard navigation support throughout each layout type
- Screen reader friendly with appropriate ARIA labels
- Focus management optimized for each variant's navigation pattern
- High contrast support integrated with theme system
