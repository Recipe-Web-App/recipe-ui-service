import { Meta, Story, Canvas, ArgsTable, Controls } from '@storybook/blocks';
import {
  Slider,
  RangeSlider,
  TemperatureSlider,
  TimeSlider,
  ServingSizeSlider,
  DifficultySlider,
} from './slider';

<Meta
  title="Components/UI/Slider"
  component={Slider}
  argTypes={{
    value: {
      control: { type: 'object' },
      description: 'The controlled value of the slider',
    },
    defaultValue: {
      control: { type: 'object' },
      description: 'The default value when uncontrolled',
    },
    min: {
      control: { type: 'number' },
      description: 'The minimum value',
    },
    max: {
      control: { type: 'number' },
      description: 'The maximum value',
    },
    step: {
      control: { type: 'number' },
      description: 'The step increment',
    },
    orientation: {
      control: { type: 'select' },
      options: ['horizontal', 'vertical'],
      description: 'The orientation of the slider',
    },
    size: {
      control: { type: 'select' },
      options: ['sm', 'default', 'lg'],
      description: 'The size variant',
    },
    variant: {
      control: { type: 'select' },
      options: ['default', 'success', 'warning', 'danger', 'info'],
      description: 'The color variant',
    },
    disabled: {
      control: { type: 'boolean' },
      description: 'Whether the slider is disabled',
    },
    label: {
      control: { type: 'text' },
      description: 'The label text',
    },
    showValue: {
      control: { type: 'boolean' },
      description: 'Whether to show the current value',
    },
    valuePosition: {
      control: { type: 'select' },
      options: ['tooltip', 'inline', 'bottom', 'floating'],
      description: 'Where to display the value',
    },
    showTicks: {
      control: { type: 'boolean' },
      description: 'Whether to show tick marks',
    },
    showStepLabels: {
      control: { type: 'boolean' },
      description: 'Whether to show step labels',
    },
    gradient: {
      control: { type: 'boolean' },
      description: 'Whether to apply gradient styling',
    },
    unit: {
      control: { type: 'text' },
      description: 'The unit to display with the value',
    },
  }}
/>

# Slider

Range and value sliders for interactive number input. Built on top of Radix UI Slider with comprehensive styling options and recipe-specific variants.

## Overview

The Slider component provides a comprehensive set of slider variants for different use cases:

- **Basic Slider**: Single value selection
- **Range Slider**: Select a range between two values
- **Temperature Slider**: Cooking temperature with unit formatting
- **Time Slider**: Cooking time with smart time formatting
- **Serving Size Slider**: Recipe portion control
- **Difficulty Slider**: Recipe complexity levels

## Basic Usage

<Canvas>
  <Story name="Default">
    {() => (
      <div className="w-80 space-y-6">
        <Slider
          defaultValue={[50]}
          label="Basic Slider"
          showValue
          valuePosition="inline"
        />
      </div>
    )}
  </Story>
</Canvas>

## Variants

### Size Variants

<Canvas>
  <Story name="Size Variants">
    {() => (
      <div className="w-80 space-y-6">
        <Slider size="sm" defaultValue={[25]} label="Small Slider" showValue />
        <Slider
          size="default"
          defaultValue={[50]}
          label="Default Slider"
          showValue
        />
        <Slider size="lg" defaultValue={[75]} label="Large Slider" showValue />
      </div>
    )}
  </Story>
</Canvas>

### Color Variants

<Canvas>
  <Story name="Color Variants">
    {() => (
      <div className="w-80 space-y-6">
        <Slider
          variant="default"
          defaultValue={[20]}
          label="Default"
          showValue
        />
        <Slider
          variant="success"
          defaultValue={[40]}
          label="Success"
          showValue
        />
        <Slider
          variant="warning"
          defaultValue={[60]}
          label="Warning"
          showValue
        />
        <Slider variant="danger" defaultValue={[80]} label="Danger" showValue />
        <Slider variant="info" defaultValue={[100]} label="Info" showValue />
      </div>
    )}
  </Story>
</Canvas>

### With Gradient

<Canvas>
  <Story name="Gradient Effects">
    {() => (
      <div className="w-80 space-y-6">
        <Slider
          variant="success"
          gradient
          defaultValue={[30]}
          label="Success Gradient"
          showValue
        />
        <Slider
          variant="warning"
          gradient
          defaultValue={[60]}
          label="Warning Gradient"
          showValue
        />
        <Slider
          variant="info"
          gradient
          defaultValue={[90]}
          label="Info Gradient"
          showValue
        />
      </div>
    )}
  </Story>
</Canvas>

## Value Display Options

<Canvas>
  <Story name="Value Display">
    {() => (
      <div className="w-80 space-y-8">
        <Slider
          defaultValue={[25]}
          label="Inline Value"
          showValue
          valuePosition="inline"
        />
        <Slider
          defaultValue={[50]}
          label="Bottom Value"
          showValue
          valuePosition="bottom"
        />
        <Slider
          defaultValue={[75]}
          label="Tooltip Value"
          showValue
          valuePosition="tooltip"
        />
      </div>
    )}
  </Story>
</Canvas>

## Ticks and Labels

<Canvas>
  <Story name="Ticks and Labels">
    {() => (
      <div className="w-80 space-y-8">
        <Slider
          defaultValue={[2]}
          min={0}
          max={4}
          step={1}
          label="With Ticks"
          showTicks
          showValue
        />
        <Slider
          defaultValue={[1]}
          min={0}
          max={2}
          step={1}
          label="Custom Labels"
          showTicks
          showStepLabels
          stepLabels={['Low', 'Medium', 'High']}
          showValue
        />
      </div>
    )}
  </Story>
</Canvas>

## Range Slider

<Canvas>
  <Story name="Range Slider">
    {() => (
      <div className="w-80 space-y-6">
        <RangeSlider
          defaultValue={[25, 75]}
          label="Price Range"
          showValue
          valuePosition="inline"
          unit="$"
        />
        <RangeSlider
          defaultValue={[20, 80]}
          label="Temperature Range"
          variant="warning"
          showValue
          unit="Â°C"
          minDistance={10}
        />
      </div>
    )}
  </Story>
</Canvas>

## Recipe-Specific Sliders

### Temperature Slider

<Canvas>
  <Story name="Temperature Slider">
    {() => (
      <div className="w-80 space-y-6">
        <TemperatureSlider
          defaultValue={[180]}
          temperatureUnit="C"
          label="Oven Temperature (Celsius)"
          showValue
          valuePosition="inline"
        />
        <TemperatureSlider
          defaultValue={[350]}
          temperatureUnit="F"
          label="Oven Temperature (Fahrenheit)"
          showValue
          valuePosition="inline"
        />
      </div>
    )}
  </Story>
</Canvas>

### Time Slider

<Canvas>
  <Story name="Time Slider">
    {() => (
      <div className="w-80 space-y-6">
        <TimeSlider
          defaultValue={[30]}
          timeUnit="minutes"
          maxTime={120}
          label="Cooking Time (Minutes)"
          showValue
          valuePosition="inline"
        />
        <TimeSlider
          defaultValue={[2.5]}
          timeUnit="hours"
          maxTime={6}
          label="Cooking Time (Hours)"
          showValue
          valuePosition="inline"
        />
      </div>
    )}
  </Story>
</Canvas>

### Serving Size Slider

<Canvas>
  <Story name="Serving Size Slider">
    {() => (
      <div className="w-80 space-y-6">
        <ServingSizeSlider
          defaultValue={[4]}
          maxServings={12}
          label="Number of Servings"
          showValue
          valuePosition="inline"
        />
        <ServingSizeSlider
          defaultValue={[8]}
          maxServings={20}
          label="Party Size"
          showValue
          valuePosition="inline"
        />
      </div>
    )}
  </Story>
</Canvas>

### Difficulty Slider

<Canvas>
  <Story name="Difficulty Slider">
    {() => (
      <div className="w-80 space-y-8">
        <DifficultySlider
          defaultValue={[2]}
          label="Recipe Difficulty"
          showValue
          valuePosition="inline"
          showLabels={true}
        />
        <DifficultySlider
          defaultValue={[3]}
          label="Skill Level Required"
          showValue
          valuePosition="inline"
          showLabels={false}
        />
      </div>
    )}
  </Story>
</Canvas>

## Orientation

<Canvas>
  <Story name="Vertical Orientation">
    {() => (
      <div className="flex h-64 space-x-8">
        <div className="flex flex-col items-center space-y-2">
          <span className="text-sm font-medium">Volume</span>
          <Slider
            orientation="vertical"
            defaultValue={[60]}
            showValue
            valuePosition="inline"
            variant="info"
          />
        </div>
        <div className="flex flex-col items-center space-y-2">
          <span className="text-sm font-medium">Heat Level</span>
          <Slider
            orientation="vertical"
            defaultValue={[80]}
            showValue
            valuePosition="inline"
            variant="danger"
            gradient
          />
        </div>
      </div>
    )}
  </Story>
</Canvas>

## States

<Canvas>
  <Story name="States">
    {() => (
      <div className="w-80 space-y-6">
        <Slider defaultValue={[40]} label="Normal State" showValue />
        <Slider defaultValue={[60]} label="Disabled State" disabled showValue />
      </div>
    )}
  </Story>
</Canvas>

## Playground

<Canvas>
  <Story
    name="Playground"
    args={{
      defaultValue: [50],
      min: 0,
      max: 100,
      step: 1,
      orientation: 'horizontal',
      size: 'default',
      variant: 'default',
      disabled: false,
      label: 'Interactive Slider',
      showValue: true,
      valuePosition: 'inline',
      showTicks: false,
      showStepLabels: false,
      gradient: false,
      unit: '',
    }}
  >
    {args => (
      <div className="w-80">
        <Slider {...args} />
      </div>
    )}
  </Story>
</Canvas>

<Controls />

## Best Practices

### When to Use

- **Basic Slider**: For simple numeric input with visual feedback
- **Range Slider**: When users need to select a range of values
- **Temperature Slider**: For cooking temperatures with proper units
- **Time Slider**: For cooking durations with smart formatting
- **Serving Size Slider**: For recipe scaling and portion control
- **Difficulty Slider**: For skill level indicators

### Accessibility

- Always provide appropriate `aria-label` or associate with a label
- Use meaningful step increments for better keyboard navigation
- Consider providing alternative text input for precise values
- Test with keyboard navigation and screen readers

### Design Guidelines

- Use appropriate size variants for your design hierarchy
- Choose color variants that match the semantic meaning
- Show values when precision is important
- Use ticks and labels for discrete options
- Consider gradients for visual emphasis but use sparingly

## API Reference

<ArgsTable of={Slider} />
